<!DOCTYPE html>
<html>
<head>
    <title>Server Diagnostic Tool</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .step { margin: 10px 0; padding: 10px; border-left: 3px solid #007cba; }
        .error { color: red; }
        .success { color: green; }
        .warning { color: orange; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .result { margin: 10px 0; padding: 10px; background: #f5f5f5; }
    </style>
</head>
<body>
    <h1>Server Diagnostic Tool</h1>
    
    <div class="step">
        <h3>Step 1: Check if server is running</h3>
        <button onclick="checkServer()">Test Server Connection</button>
        <div id="serverResult" class="result"></div>
    </div>

    <div class="step">
        <h3>Step 2: Manual Server Start Instructions</h3>
        <ol>
            <li><strong>Open Command Prompt</strong> in your project folder</li>
            <li><strong>Run:</strong> <code>node server-fixed.js</code></li>
            <li><strong>You should see:</strong>
                <pre>‚úÖ Connected to SQLite database.
üöÄ Server running at http://localhost:3001</pre>
            </li>
            <li><strong>Keep the command prompt open</strong> (don't close it)</li>
        </ol>
    </div>

    <div class="step">
        <h3>Step 3: Alternative Start Methods</h3>
        <ul>
            <li><strong>Method 1:</strong> Double-click <code>start-fixed-server.bat</code></li>
            <li><strong>Method 2:</strong> Right-click <code>start-fixed-server.bat</code> ‚Üí "Run as administrator"</li>
            <li><strong>Method 3:</strong> Open PowerShell and run: <code>.\start-fixed-server.bat</code></li>
        </ul>
    </div>

    <div class="step">
        <h3>Step 4: Common Issues</h3>
        <ul>
            <li><strong>"node is not recognized"</strong> ‚Üí Install Node.js from https://nodejs.org/</li>
            <li><strong>"module not found"</strong> ‚Üí Run <code>npm install</code> first</li>
            <li><strong>"port already in use"</strong> ‚Üí Change port in server-fixed.js from 3001 to 3002</li>
            <li><strong>Permission denied</strong> ‚Üí Run as administrator</li>
        </ul>
    </div>

    <script>
        async function checkServer() {
            const resultDiv = document.getElementById('serverResult');
            resultDiv.innerHTML = 'Testing server connection...';
            
            try {
                const response = await fetch('http://localhost:3001/');
                if (response.ok) {
                    resultDiv.innerHTML = '<span class="success">‚úÖ Server is running! You can now try the login.</span>';
                } else {
                    resultDiv.innerHTML = '<span class="warning">‚ö†Ô∏è Server responded but with status: ' + response.status + '</span>';
                }
            } catch (error) {
                resultDiv.innerHTML = '<span class="error">‚ùå Server is NOT running. Error: ' + error.message + '</span>';
            }
        }
    </script>
</body>
</html> 